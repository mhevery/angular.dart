{"changed":false,"filter":false,"title":"env.sh","tooltip":"/scripts/env.sh","value":"#!/bin/false\nset -e\n\nif [[ -z $ENV_SET ]]; then\n  export ENV_SET=1\n\n  # Map DART_SDK and DARTSDK to each other if only one is specified.\n  #\n  # TODO(chirayu): Remove this legacy DARTSDK variable support.  Check with Misko\n  # to see if he's using it on this Mac.\n  if [[ -z \"$DART_SDK\" ]]; then\n    : \"${DARTSDK:=$DART_SDK}\"\n  else\n    : \"${DART_SDK:=$DARTSDK}\"\n  fi\n\n  unset DART\n  PLATFORM=\"$(uname -s)\"\n\n  case \"$PLATFORM\" in\n    (Darwin)\n      path=$(readlink ${BASH_SOURCE[0]}||echo './scripts/env.sh')\n      export NGDART_SCRIPT_DIR=$(dirname $path)\n      ;;\n    (Linux)\n      export NGDART_SCRIPT_DIR=$(dirname $(readlink -f ${BASH_SOURCE[0]}))\n      ;;\n    (*)\n      echo Unsupported platform $PLATFORM.  Exiting ... >&2\n      exit 3\n      ;;\n  esac\n\n  export NGDART_BASE_DIR=$(dirname $NGDART_SCRIPT_DIR)\n\n  # Try to find the SDK alongside the dart command first.\n  if [[ -z \"$DART_SDK\" ]]; then\n    DART=$(which dart) || true\n    if [[ -x \"$DART\" ]]; then\n      DART_SDK=\"${DART/dart-sdk\\/*/dart-sdk}\"\n      if [[ ! -e \"$DART_SDK\" ]]; then\n        unset DART DART_SDK\n      fi\n    fi\n  fi\n  # Fallback: Assume it's alongside the current directory (e.g. Travis).\n  if [[ -z \"$DART_SDK\" ]]; then\n    DART_SDK=\"$(pwd)/dart-sdk\"\n  fi\n\n  : \"${DART:=$DART_SDK/bin/dart}\"\n\n  if [[ ! -x \"$DART\" ]]; then\n    echo Unable to locate the dart binary / SDK. Exiting >&2\n    exit 3\n  fi\n\n  if [[ -z \"$DARTIUM\" ]]; then\n    dartiumRoot=\"$DART_SDK/../chromium\"\n    if [[ -e \"$dartiumRoot\" ]]; then\n      case \"$PLATFORM\" in\n        (Linux) export DARTIUM=\"$dartiumRoot/chrome\" ;;\n        (Darwin) export DARTIUM=\"$dartiumRoot/Chromium.app/Contents/MacOS/Chromium\" ;;\n        (*) echo Unsupported platform $PLATFORM.  Exiting ... >&2 ; exit 3 ;;\n      esac\n    fi\n  fi\n\n  export DART_SDK\n  export DARTSDK\n  export DART\n  export PUB=${PUB:-\"$DART_SDK/bin/pub\"}\n  export DARTANALYZER=${DARTANALYZER:-\"$DART_SDK/bin/dartanalyzer\"}\n  export DARTDOC=${DARTDOC:-\"$DART_SDK/bin/dartdoc\"}\n  export DART_DOCGEN=${DART_DOCGEN:-\"$DART_SDK/bin/docgen\"}\n  export DART_VM_OPTIONS=\"--old_gen_heap_size=2048\"\n  export DARTIUM_BIN=${DARTIUM_BIN:-\"$DARTIUM\"}\n  export CHROME_BIN=${CHROME_BIN:-\"google-chrome\"}\n  export PATH=$PATH:$DART_SDK/bin\n\n  echo '*********'\n  echo '** ENV **'\n  echo '*********'\n  echo DART_SDK=$DART_SDK\n  echo DART=$DART\n  echo PUB=$PUB\n  echo DARTANALYZER=$DARTANALYZER\n  echo DARTDOC=$DARTDOC\n  echo DART_DOCGEN=$DART_DOCGEN\n  echo DARTIUM_BIN=$DARTIUM_BIN\n  echo CHROME_BIN=$CHROME_BIN\n  echo PATH=$PATH\n  echo NGDART_BASE_DIR=$NGDART_BASE_DIR\n  echo NGDART_SCRIPT_DIR=$NGDART_SCRIPT_DIR\n  $DART --version 2>&1\n\nfi\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":2,"column":0},"end":{"row":2,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1406158347586}